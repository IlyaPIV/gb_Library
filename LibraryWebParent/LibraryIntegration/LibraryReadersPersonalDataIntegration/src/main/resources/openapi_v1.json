{"openapi":"3.0.1","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:48884","description":"Generated server url"}],"tags":[{"name":"reader","description":"Управление персональными данными читателей"}],"paths":{"/api/v1/reader":{"get":{"tags":["reader"],"summary":"Получить список читателей (ФИО и даты рождения)","operationId":"listOfReaders","parameters":[{"name":"offset","in":"query","description":"Количество элементов, которое необходимо пропустить перед возвращением результирующего набора","required":false,"schema":{"minimum":0,"type":"integer","format":"int64","default":0}},{"name":"limit","in":"query","description":"Максимальное количество элементов, которое необходимо возвратить","required":false,"schema":{"maximum":50,"minimum":1,"type":"integer","format":"int32","default":25}}],"responses":{"200":{"description":"Список читателей (ФИО и даты рождения)","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ReaderInfoResponse"}}}}},"default":{"description":"Неожиданная ошибка","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}},"security":[{"bearerAuth":[]}]},"post":{"tags":["reader"],"summary":"Зарегистрировать основные данные о новом читателе","operationId":"addNewReader","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReaderPostRequest"}}},"required":true},"responses":{"201":{"description":"Добавлены данные читателя","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReaderResponse"}}}},"default":{"description":"Неожиданная ошибка","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}},"security":[{"bearerAuth":[]}]}},"/api/v1/reader/{readerId}":{"get":{"tags":["reader"],"summary":"Получить информацию о читателе","operationId":"getReaderById","parameters":[{"name":"readerId","in":"path","description":"Уникальный идентификатор читателя","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"Полная информация о читателе","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReaderResponse"}}}},"default":{"description":"Неожиданная ошибка","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}},"security":[{"bearerAuth":[]}]},"delete":{"tags":["reader"],"summary":"Удалить данные читателя","operationId":"removeReader","parameters":[{"name":"readerId","in":"path","description":"Уникальный идентификатор читателя","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"204":{"description":"Данные читателя удалены"},"default":{"description":"Неожиданная ошибка","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}},"security":[{"bearerAuth":[]}]},"patch":{"tags":["reader"],"summary":"Обновить информацию о читателе","description":"Обновлению подлежат только те поля, которые указаны в теле запроса. Например, если в теле запроса указать {\"phone1\": \"8-924-123-45-67\"}, то будет обновлено только поле \"phone1\". ","operationId":"updateReader","parameters":[{"name":"readerId","in":"path","description":"Уникальный идентификатор читателя","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReaderPatchRequest"}}},"required":true},"responses":{"200":{"description":"Данные читателя обновлены","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReaderResponse"}}}},"default":{"description":"Неожиданная ошибка","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}}}},"security":[{"bearerAuth":[]}]}}},"components":{"schemas":{"ReaderResponse":{"type":"object","properties":{"readerId":{"type":"integer","format":"int64","example":5632},"name":{"type":"string","example":"Иван"},"surname":{"type":"string","example":"Иванов"},"birthday":{"type":"string","format":"date"},"email":{"type":"string","example":"ivanov@yandex.ru"},"phone1":{"type":"string","example":"8-924-123-45-67"},"phone2":{"type":"string","example":"8-905-123-45-67"},"address":{"type":"string","example":"г. Москва, ул. Дыбенко, д.16, кв.54"},"passport":{"type":"string","example":"11 04 123456"}}},"Error":{"type":"object","properties":{"timestamp":{"type":"string","format":"date-time","example":"2023-05-22T17:24:56.265Z"},"status":{"type":"integer","format":"int32","example":404},"error":{"type":"string","example":"Not Found"},"message":{"type":"string","example":"ID 5633 пользователя не найден"},"path":{"type":"string","example":"/api/v1/reader/5633"}}},"ReaderPostRequest":{"required":["name","readerId"],"type":"object","properties":{"readerId":{"type":"integer","format":"int64","example":5632},"name":{"type":"string","example":"Иван"},"surname":{"type":"string","example":"Иванов"},"birthday":{"type":"string","format":"date"},"email":{"type":"string","example":"ivanov@yandex.ru"},"phone1":{"type":"string","example":"8-924-123-45-67"},"phone2":{"type":"string","example":"8-905-123-45-67"},"address":{"type":"string","example":"г. Москва, ул. Дыбенко, д.16, кв.54"},"passport":{"type":"string","example":"11 04 123456"}}},"ReaderPatchRequest":{"type":"object","properties":{"name":{"type":"string","example":"Иван"},"surname":{"type":"string","example":"Иванов"},"birthday":{"type":"string","format":"date"},"email":{"type":"string","example":"ivanov@yandex.ru"},"phone1":{"type":"string","example":"8-924-123-45-67"},"phone2":{"type":"string","example":"8-905-123-45-67"},"address":{"type":"string","example":"г. Москва, ул. Дыбенко, д.16, кв.54"},"passport":{"type":"string","example":"11 04 123456"}}},"ReaderInfoResponse":{"type":"object","properties":{"readerId":{"type":"integer","format":"int64","example":5632},"name":{"type":"string","example":"Иван"},"surname":{"type":"string","example":"Иванов"},"birthday":{"type":"string","format":"date"}}}}}}